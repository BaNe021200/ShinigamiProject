{% extends "layout.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Dropify/0.2.2/css/dropify.css" integrity="sha256-Kq686ftxGamHGd8MpwJXmYgk1s7m00maEfHX1VpKYP8=" crossorigin="anonymous" />
{% endblock %}

{% block page_title %}
    {{ app.user.nickName }}
{% endblock page_title %}

{% block page %}

    <!-- Avatar and pseudo-->
    <section class="py-3 bg-light">
        <div class="image image-overlay image-cover skrollable skrollable-between" style="background-image: url({{ asset ('assets/css/images/portfolio-bg-2.jpg') }}); transform: translateY(0px);" data-top-top="transform: translateY(0px);" data-top-bottom="transform: translateY(-250px);"></div>
        <div class="container">
            <div class="row justify-content-center align-items-end vh-50">
                <div class="col col-md-10 col-lg-8">
                    {{ include('components/_message_flash.twig') }}
                </div>
            </div>
            <div class="row justify-content-center align-items-end vh-50">
                <div class="col col-md-10 col-lg-8">
                    <div class="row align-items-center">
                        <div class="col-4 col-lg-3">
                            <img class="mr-3 avatar avatar-xl rounded-circle" src="{{ asset (app.user.imageName) }}" {#{{ asset (actions.imageName) }}#} alt="Generic placeholder image">
                        </div>
                        <div class="col">
                            <div class="row align-items-center">
                                <div class="col-md-8">
                                    <h2 class="mb-0"><b>{{ app.user.nickName }}</b></h2>
                                    <span class="text-muted">{{ app.user.name ~' '~ app.user.lastName}}</span>
                                </div>
                                <div class="col-md-4 text-left text-md-right">
                                    <button type="button" class="btn btn-rounded btn-ico btn-white" data-toggle="tooltip" data-placement="top" title="" data-original-title="Add Friend"><i class="icon-plus2 fs-20"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Form -->
    <section class="bg-light pt-0">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    {{ form_start(form, {attr:{novalidate: 'novalidate' }}) }}
                    <h4 class="mb-3 fs-10 font-weight-normal border-bottom">Identit√©</h4>
                    <div class="form-row">
                        <div class="col">{{ form_row(form.nickName) }}</div>
                        <div class="col">{{ form_row(form.email) }}</div>
                    </div>
                    <div class="form-row">
                        <div class="col">{{ form_row(form.name) }} </div>
                        <div class="col">{{ form_row(form.lastname) }}</div>
                    </div>
                    <div class="form-row">
                        <div class="col">{{ form_row(form.birthday) }}</div>
                    </div>
                    <div class="form-row">
                        <div class="col">{{ form_row(form.image) }}</div>
                    </div>
                    <h4 class="mb-3 fs-20 font-weight-normal border-bottom">Adresse</h4>
                    <div class="form-row">
                        <div class="col">{{ form_row(form.address) }}</div>
                    </div>
                    <div class="form-row">
                        <div class="col">{{ form_row(form.postalCode) }}</div>
                        <div class="col">{{ form_row(form.city) }}</div>
                    </div>
                    <div class="form-row float-right">
                        <div class="col">{{ form_row(form.submit) }}</div>
                    </div>
                    {{ form_row(form._token) }}
                    {{ form_end(form, {'render_rest': false}) }}
                </div>
            </div>
        </div>
    </section>

{% endblock %}


{% block final_javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Dropify/0.2.2/js/dropify.min.js" integrity="sha256-SUaao5Q7ifr2twwET0iyXVy0OVnuFJhGVi5E/dqEiLU=" crossorigin="anonymous"></script>
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
    <script>
        $('.dropify').dropify({
            messages: {
                default: 'Glissez-d&eacute;posez un fichier ici ou cliquez',
                replace: 'Glissez-d&eacute;posez un fichier ou cliquez pour remplacer',
                remove:  'Supprimer',
                error:   'D&eacute;sol&eacute;, le fichier est trop volumineux'
            }
        });
        $("#shini_player_image").find('label.custom-file').hide();
        // Hide the extra label rendered by bootstrap_twig
        //.parents('.form-group').find('label').hide();
    </script>
{% endblock %}